{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAe,SAAAC,GAAgBC,YAACA,EAAWC,KAAEA,EAAIC,MAAEA,EAAKC,aAAEA,EAAYC,aAAEA,EAAYC,eAAEA,IAElF,MAAO,wEACkBL,yFACDE,2EAGpBC,EAAeA,EAAaG,MAAM,EAAG,GAAKD,EAAeC,MAAM,EAAG,kC,mBCFvD,IFJJ,MAMVC,mBACG,MAAMC,EAAU,CAChBC,IAAK,oCAIL,IAAKA,IAACA,GAAOD,EAEZ,MACOE,SADiBb,EAAAc,QAAMC,IAAI,yDAAuBH,MAClCC,KAIpB,OAFAG,KAAKC,MAAQ,EACpBC,QAAQC,IAAIN,EAAKO,SACHP,C,CAGdQ,YACGL,KAAKC,KAAO,C,CAGZK,kBACA,OAAON,KAAKO,M,CAEZD,gBAAYE,GACZR,KAAKO,OAASC,C,CA7BlBC,cACIT,KAAKO,OAAS,GACdP,KAAKC,KAAO,C,IEGTS,aAAaC,MAAKd,KAC3B,EAAAe,EAAAC,UAAShB,EAAKI,KAAMJ,EAAKO,SAI3B,SAAyBP,GACvBK,QAAQC,IAAI,QACZD,QAAQC,IAAIN,EAAKO,SACjB,MAAMU,EAAOjB,EAAKO,QAAQW,KAAIC,GAAU9B,EAAO8B,KAASC,KAAK,IAE7DC,SAASC,cAAc,YAAYC,mBAAmB,YAAaN,E,CARnEO,CAAgBxB,EAAK","sources":["src/js/api-service.js","src/js/card.js","src/js/fetchImages.js"],"sourcesContent":["import axios from \"axios\";\nexport default class ApiService {\n    constructor (){\n        this.images = '';\n        this.page = 1;\n    }   \n\n     async fetchImage() {\n        const options = {\n        key: `3ff086ca8fded08ba42938358b3327b4`,      \n       \n        };\n        const BASE_URL = `https://api.themoviedb.org/3/trending/all/day`\n        let  {key} = options;\n       \n         const response  = await axios.get(`${BASE_URL}?api_key=${key}`)\n          const data = response.data;          \n         \n            this.page += 1;        \n     console.log(data.results)\n            return data;\n         };      \n   \n     clearForm() {\n        this.page = 1;\n    }\n\n    get searchQuery() {\n        return this.images;\n    }\n    set searchQuery(newSearchQuery){\n        this.images = newSearchQuery;\n    }\n    \n};","export default function onCard({poster_path, name, title, release_date, vote_average, first_air_date}) {\n    const BASE_IMAGE = `https://image.tmdb.org/t/p/original`\n    return `<div class=\"card\">\n    <img src=\"${BASE_IMAGE}${poster_path}\" alt=\"A FISTFUL OF LEAD\" class=\"card_image\" width=\"300\">\n    <h2 class=\"card_name\">${title}</h2>\n    <div class='card_info'>\n      <p class=\"card_text\">Genre | ${\n        release_date ? release_date.slice(0, 4) : first_air_date.slice(0, 4)\n      }</p>      \n    </div>\n</div>`    \n}\n\n/* <p class=\"card_rating\">  ${ vote_average.toFixed(1)}</p> */\n","import ApiService from './api-service';\nimport onCard from './card';\n// Ed import//\nimport { saveInfo, getInfo, removeInfo } from './storage_api';\n/////////////\nconst apiService = new ApiService();\n\napiService.fetchImage().then(data => {\n  saveInfo(data.page, data.results); // добавил сохранение в локалсторедж при обращении к АПИ////////\n  addArticleImage(data);\n});\n\nfunction addArticleImage(data) {\n  console.log('data');\n  console.log(data.results);\n  const cart = data.results.map(result => onCard(result)).join('');\n  // console.log('cart', cart)\n  document.querySelector(`.gallery`).insertAdjacentHTML('beforeend', cart);\n}\n"],"names":["$2shzp","parcelRequire","$7444c4569451fc47$export$2e2bcd8739ae039","poster_path","name","title","release_date","vote_average","first_air_date","slice","async","options","key","data","default","get","this","page","console","log","results","clearForm","searchQuery","images","newSearchQuery","constructor","fetchImage","then","$e5H4a","saveInfo","cart","map","result","join","document","querySelector","insertAdjacentHTML","$78401bf63fbcf63c$var$addArticleImage"],"version":3,"file":"index.bcb82295.js.map"}