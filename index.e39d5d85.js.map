{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oDACeC,ECDZ,W,sBDCkBC,I,aAEbC,KAAKC,OAAS,GACdD,KAAKE,KAAO,C,iBAGTC,IAAA,a,MAAN,W,kBAAAC,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,I,IAMSJ,EAECK,EACCC,E,wEAJU,gDACbN,EALW,CAChBA,IAAM,oCAIAA,I,SAEmBO,EAAAC,QAAMC,IAAI,GAAuBC,OAHxC,gDAG6B,aAAeA,OAAJV,I,cAAnDK,EAAQM,EAAAC,KACPN,EAAOD,EAASC,KAEpBO,EAAKd,MAAQ,EACpBe,QAAQC,IAAIT,EAAKU,S,kBACHV,G,2CAbd,E,IAgBAN,IAAA,Y,MAAA,WACGH,KAAKE,KAAO,C,IAGZC,IAAA,c,IAAJ,WACI,OAAOH,KAAKC,M,MAEhB,SAAgBmB,GACZpB,KAAKC,OAASmB,C,OC/BnB,GCAY,SAAAC,EAAgBC,G,IAACC,EAADD,EAACC,YAAmBC,GAApBF,EAAcG,KAAdH,EAAoBE,OAAOE,EAA3BJ,EAA2BI,aAA4BC,GAAvDL,EAAyCM,aAAzCN,EAAuDK,gBAElF,MAAO,qCACkBd,OAFL,uCAGIA,OADCU,EAAY,yFAIjCV,OAHoBW,EAAM,6EAI3BX,OADCa,EAAeA,EAAaG,MAAM,EAAG,GAAKF,EAAeE,MAAM,EAAG,GACnE,iC,mBCHY,IAAI/B,GAEZgC,aAAaC,MAAK,SAAAtB,IAC3B,EAAAuB,EAAAC,UAASxB,EAAKP,KAAMO,EAAKU,SAI3B,SAAyBV,GACvBQ,QAAQC,IAAI,QACZD,QAAQC,IAAIT,EAAKU,SACjB,IAAMe,EAAOzB,EAAKU,QAAQgB,KAAI,SAAAC,G,OAAUf,EAAOe,E,IAASC,KAAK,IAE7DC,SAASC,cAAe,YAAWC,mBAAmB,YAAaN,E,CARnEO,CAAgBhC,E","sources":["src/js/api-service.js","<<jsx-config-pragma.js>>","src/js/card.js","src/js/fetchImages.js"],"sourcesContent":["import axios from \"axios\";\nexport default class ApiService {\n    constructor (){\n        this.images = '';\n        this.page = 1;\n    }   \n\n     async fetchImage() {\n        const options = {\n        key: `3ff086ca8fded08ba42938358b3327b4`,      \n       \n        };\n        const BASE_URL = `https://api.themoviedb.org/3/trending/all/day`\n        let  {key} = options;\n       \n         const response  = await axios.get(`${BASE_URL}?api_key=${key}`)\n          const data = response.data;          \n         \n            this.page += 1;        \n     console.log(data.results)\n            return data;\n         };      \n   \n     clearForm() {\n        this.page = 1;\n    }\n\n    get searchQuery() {\n        return this.images;\n    }\n    set searchQuery(newSearchQuery){\n        this.images = newSearchQuery;\n    }\n    \n};",null,"export default function onCard({poster_path, name, title, release_date, vote_average, first_air_date}) {\n    const BASE_IMAGE = `https://image.tmdb.org/t/p/original`\n    return `<div class=\"card\">\n    <img src=\"${BASE_IMAGE}${poster_path}\" alt=\"A FISTFUL OF LEAD\" class=\"card_image\" width=\"300\">\n    <h2 class=\"card_name\">${title}</h2>\n    <div class='card_info'>\n      <p class=\"card_text\">Genre | ${\n        release_date ? release_date.slice(0, 4) : first_air_date.slice(0, 4)\n      }</p>      \n    </div>\n</div>`    \n}\n\n/* <p class=\"card_rating\">  ${ vote_average.toFixed(1)}</p> */\n","import ApiService from './api-service';\nimport onCard from './card';\n// Ed import//\nimport { saveInfo, getInfo, removeInfo } from './storage_api';\n/////////////\nconst apiService = new ApiService();\n\napiService.fetchImage().then(data => {\n  saveInfo(data.page, data.results); // добавил сохранение в локалсторедж при обращении к АПИ////////\n  addArticleImage(data);\n});\n\nfunction addArticleImage(data) {\n  console.log('data');\n  console.log(data.results);\n  const cart = data.results.map(result => onCard(result)).join('');\n  // console.log('cart', cart)\n  document.querySelector(`.gallery`).insertAdjacentHTML('beforeend', cart);\n}\n"],"names":["$bpxeT","parcelRequire","$0ed9756ae2b68474$export$2e2bcd8739ae039","ApiService","this","images","page","key","$parcel$interopDefault","$2TvXO","mark","_callee","response","data","$dIxxU","default","get","concat","_ctx","sent","_this","console","log","results","newSearchQuery","$eff785268c22474a$export$2e2bcd8739ae039","param","poster_path","title","name","release_date","first_air_date","vote_average","slice","fetchImage","then","$lvqhk","saveInfo","cart","map","result","join","document","querySelector","insertAdjacentHTML","$d7b411c7ba6deff6$var$addArticleImage"],"version":3,"file":"index.e39d5d85.js.map"}