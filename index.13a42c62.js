!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),c=a("8MBJY"),i=a("a2hTj"),s=a("2TvXO"),l=a("dIxxU"),u=function(){"use strict";function t(){e(c)(this,t),this.images="",this.page=1,this.id=null}return e(i)(t,[{key:"fetchGenres",value:function(){var t=this;return e(o)(e(s).mark((function n(){var r,a,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list",r={key:"3ff086ca8fded08ba42938358b3327b4"}.key,e.next=5,l.default.get("".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat(r,"&language=en-US"));case 5:return a=e.sent,o=a.data.genres,console.log("id",[{genres:o}].id),t.page+=1,e.abrupt("return",{genres:o});case 10:case"end":return e.stop()}}),n)})))()}},{key:"fetchImage",value:function(){var t=this;return e(o)(e(s).mark((function n(){var r,a,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/all/day",r={key:"3ff086ca8fded08ba42938358b3327b4"}.key,e.next=5,l.default.get("".concat("https://api.themoviedb.org/3/trending/all/day","?api_key=").concat(r));case 5:return a=e.sent,o=a.data,t.page+=1,console.log(o.results),e.abrupt("return",o);case 10:case"end":return e.stop()}}),n)})))()}},{key:"clearForm",value:function(){this.page=1}},{key:"searchQuery",get:function(){return this.images},set:function(e){this.images=e}}]),t}();function d(e){var t=e.poster_path,n=e.name,r=e.title,a=e.genre_ids,o=e.release_date,c=(e.vote_average,e.first_air_date);return'<div class="card">\n    <img src="'.concat("https://image.tmdb.org/t/p/original").concat(t,'" alt="A FISTFUL OF LEAD" class="card_image" width="300">\n    <h2 class="card_name">').concat(n||r,'</h2>\n    <div class="card_text">\n      <p class="card_title">').concat(a,'</p>\n      <p class="card_year"> | ').concat(o?o.slice(0,4):c.slice(0,4),"</p>      \n    </div>\n</div>")}var f=a("lvqhk"),g=new u,p="genre_card";g.fetchGenres().then((function(e){var t=e.genres;localStorage.setItem(p,JSON.stringify(t))})),g.fetchImage().then((function(e){(0,f.saveInfo)(e.page,e.results),function(e){console.log(e.results);var t=e.results.map((function(e){var t=[];return e.genre_ids.forEach((function(e){v.forEach((function(n){e===n.id&&t.push(" ".concat(n.name))}))})),t.length>3&&(t=t.slice(0,2)).push(" Other..."),0===t.length&&t.push("No genres"),e.genre_ids=t,console.log("odject",Object.values(e.genre_ids)),e})).map((function(e){return d(e)})).join("");console.log("cart",t),document.querySelector(".gallery").insertAdjacentHTML("beforeend",t)}(e)}));var h=localStorage.getItem(p),v=JSON.parse(h)}();
//# sourceMappingURL=index.13a42c62.js.map
